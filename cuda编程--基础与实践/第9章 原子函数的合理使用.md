## 第九章 原子函数的合理使用
&emsp;在第8章几个版本的数组归约函数中核函数并没有做全部的计算而只是将一个长一些的数组d_x变成了一个短一些的数组d_y后者中的每个元素为前者中若干元素的和。
&emsp;在调用核函数之后将短一些的数组复制到主机，然后在主机中完成了余下的求和。所有这些操作所用时间约为5.8ms（单精度的情形）。如果用nvprof进行测试，会发现以上几个版本的核函数所用时间都约为3.2ms,大概只有全部时间的一半。如果能在GPU中计算出最终结果，则有望显著地减少整体的计算时间,提升程序性能。
有两种方法能够在GPU中计算出最终结果，一是用另一个核函数将较短的数组进一步规约，得到最终结果；而是在先前的核函数的末尾利用原子函数进行规约，直接得到最终结果。
本章讨论第二种方法。
